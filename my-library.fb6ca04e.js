var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},l={},a=e.parcelRequire4383;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in l){var a=l[e];delete l[e];var d={id:e,exports:{}};return t[e]=d,a.call(d.exports,d,d.exports),d.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){l[e]=t},e.parcelRequire4383=a);var d=a("5uEKZ"),o=a("aFV0K"),r=a("bTcpz");const s=d.default.load("queue")??[],n=d.default.load("watched")??[],i={empty:document.querySelector(".empty"),gallery:document.querySelector(".js-gallery"),galleryItem:document.querySelector(".gallery"),filter:document.querySelector(".filter-thumb"),preloaderElem:document.querySelector(".preloader"),modal:document.querySelector("[data-modal]"),modalElem:document.querySelector(".modal-content"),closeModalBtn:document.querySelector("[data-modal-close]")};let c,u=!0;i.gallery.style.overflowY="auto",i.closeModalBtn.addEventListener("click",(function(){y(),o.default.clearContent(i.gallery),void i.preloaderElem.classList.toggle("is-hidden"),console.log("isWatch = ",u),m(u?n:s)})),i.galleryItem.addEventListener("click",(function(e){c=s.find((t=>t.id===Number(e.target.id)))??n.find((t=>t.id===Number(e.target.id))),r.default.prepareModalContent(i.modalElem,c),r.default.renderModalBtns(s,n,i.modalElem,Number(e.target.id)),y()})),i.modalElem.addEventListener("click",(function(e){const t=e.target.parentElement.children;if(e.target.classList.contains("queue"))if(e.target.classList.contains("remove")){const l=s.indexOf(c);s.splice(l,1),d.default.save("queue",s),e.target.classList.toggle("remove"),e.target.textContent="Add to queue",t[0].removeAttribute("disabled")}else s.push(c),d.default.save("queue",s),e.target.classList.toggle("remove"),e.target.textContent="Remove from queue",t[0].setAttribute("disabled","disabled");if(e.target.classList.contains("watched"))if(e.target.classList.contains("remove")){const l=n.indexOf(c);n.splice(l,1),d.default.save("watched",n),e.target.classList.toggle("remove"),e.target.textContent="Add to watched",t[1].removeAttribute("disabled")}else n.push(c),d.default.save("watched",n),e.target.classList.toggle("remove"),e.target.textContent="Remove from watched",t[1].setAttribute("disabled","disabled")}));const g=i.filter.querySelectorAll(".filter");for(const e of g)e.addEventListener("change",f);function m(e){const t=o.default.creatGalleryItems(e);o.default.markupContent(t,i.gallery)}function f(e){1===Number(e.target.value)?n.length&&(u=!0,i.empty.style.display="none",o.default.clearContent(i.gallery),i.preloaderElem.classList.toggle("is-hidden"),i.gallery.classList.remove("is-hidden"),m(n),i.preloaderElem.classList.toggle("is-hidden")):s.length&&(u=!1,i.empty.style.display="none",o.default.clearContent(i.gallery),i.preloaderElem.classList.toggle("is-hidden"),i.gallery.classList.remove("is-hidden"),m(s),i.preloaderElem.classList.toggle("is-hidden"))}function y(){i.modal.classList.toggle("is-hidden")}n.length?(i.empty.style.display="none",o.default.clearContent(i.gallery),i.preloaderElem.classList.toggle("is-hidden"),i.gallery.classList.remove("is-hidden"),m(n),i.preloaderElem.classList.toggle("is-hidden")):(i.empty.classList.toggle("is-hidden"),i.gallery.classList.add("is-hidden"));
//# sourceMappingURL=my-library.fb6ca04e.js.map
